(this["webpackJsonpredux-learn"]=this["webpackJsonpredux-learn"]||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/landing_illus.7669c5f4.png"},129:function(e,t,a){e.exports=a(258)},134:function(e,t,a){},135:function(e,t,a){},141:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},159:function(e,t){},161:function(e,t){},199:function(e,t){},200:function(e,t){},256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(134),a(7)),s=a(28),i=a(118),m=a.n(i),u=(a(135),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"slider_area "},r.a.createElement("div",{className:"single_slider d-flex align-items-center justify-content-center slider_bg_1"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center justify-content-center"},r.a.createElement("div",{className:"col-xl-6 col-md-6"},r.a.createElement("div",{className:"illastrator_png"},r.a.createElement("img",{src:m.a,alt:"headpic"}))),r.a.createElement("div",{className:"col-xl-6 col-md-6"},r.a.createElement("div",{className:"slider_info"},r.a.createElement("h3",null,"Learn about your ",r.a.createElement("br",null),"Favorite Books ",r.a.createElement("br",null),"From our website"))))))))}),d=a(8),E=["Technology","Science","Finance","Health","Sports","Romance","Adventure"],f=function(e){var t=e.activeCategory,a=e.setActiveCategory;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"course_nav"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"nav",id:"myTab",role:"tablist"},E.map((function(e){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:t===e?"nav-link active":"nav-link",onClick:function(){a(e)},id:"home-tab","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true"},e))}))))))))},p=a(9);function v(e,t){return function(a){return a({type:"BEGIN_API_CALL"}),a({type:"CLEAR_CURRENT_BOOKS"}),fetch("".concat("http://localhost:3000/api/","googleBooks/").concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if("Fetched books successfully"===e.message)return a({type:"FETCH_BOOKS_SUCCESS",books:e.data});throw new Error("Could not fetch books.")})).catch((function(e){return a({type:"API_CALL_ERROR"}),new Error(e)}))}}var h=function(e){var t=e.title,a=e.imageUrl,n=(e.author,e.link,e.published),l=e.pages,c=e.id,s=e.category,i=e.bookIndexRange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-6"},r.a.createElement("div",{style:{maxHeight:"800px"},className:"single_courses"},r.a.createElement("div",{className:"thumb"},r.a.createElement(o.b,{to:"/books/".concat(i,"/").concat(s,"/").concat(c)},r.a.createElement("img",{style:{maxHeight:"200px"},src:a,alt:"Course Img"}))),r.a.createElement("div",{className:"courses_info"},r.a.createElement("h3",null,r.a.createElement(o.b,{to:"/books/".concat(i,"/").concat(s,"/").concat(c)},t," ",r.a.createElement("br",null))),r.a.createElement("div",{className:"star_prise d-flex justify-content-between"},r.a.createElement("div",{className:"star"},r.a.createElement("i",{className:"flaticon-mark-as-favorite-star"}),r.a.createElement("span",null,"Published in (",n,")")),r.a.createElement("div",{className:"prise"},l?r.a.createElement("span",{className:"active_prise"},l," pgs"):r.a.createElement(r.a.Fragment,null)))))))};a(141);var b=function(){return r.a.createElement("div",{className:"loader"})},g=function(e){var t=e.books,a=e.booksToShow,l=e.booksToFetch,c=e.setBooksToFetch,o=e.setBooksToShow,s=(e.setLoading,e.loading),i=e.category,m=e.bookIndexRange,u=function(e,t){return e.slice(1,t+1)}(t,a);return Object(n.useEffect)((function(){}),[l,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"all_courses"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tab-content",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},r.a.createElement("div",{className:"row"},u&&u.length>0?r.a.createElement(r.a.Fragment,null,u.map((function(e){return r.a.createElement(h,{title:e.volumeInfo.title,imageUrl:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink,published:e.volumeInfo.publishedDate,pages:e.volumeInfo.pageCount,key:e.volumeInfo.title,id:e.id,category:i,bookIndexRange:m})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null)),r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"more_courses text-center"},r.a.createElement("button",{onClick:function(){return function(e,t,a,n,r){return e===a?(n(2*a),t(e+3)):t(e+3)}(a,o,l,c)},className:s?"boxed_btn_rev disabled":"boxed_btn_rev"},s?"Please Wait":" More Books")))))))))},N=a(6),k={fetchBooks:v},w=Object(p.b)((function(e){return{books:e.books}}),k)((function(e){var t=Object(n.useState)("Technology"),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(3),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(30),E=Object(d.a)(u,2),p=E[0],v=E[1];return Object(n.useEffect)((function(){try{e.fetchBooks(l,p)}catch(t){N.a.error(t)}}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"popular_courses"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"section_title text-center mb-100"},r.a.createElement("h3",null," Book Categories ")))),r.a.createElement(f,{activeCategory:l,setActiveCategory:c})),e.books&&e.books.length>0?r.a.createElement(g,{books:e.books,booksToShow:i,booksToFetch:p,setBooksToFetch:v,setBooksToShow:m,category:l,bookIndexRange:p}):r.a.createElement(b,null)))})),S=a(5),y=a.n(S),_=a(10),C=a(21);var O={subscribeUser:function(e){return function(t){return fetch("".concat("http://localhost:3000/api/","subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if("Thank you for subscribing."===e.message)return t({type:"SUBSCRIBE_ISSUCCESS"});throw new Error("Please try subscribing again.")})).catch((function(e){throw t({type:"API_CALL_ERROR"}),console.log(e),new Error(e)}))}}},x=Object(p.b)((function(e){return{subscribed:e.subscribed}}),O)((function(e){var t=Object(C.a)(),a=t.register,l=t.handleSubmit,c=Object(n.useState)(!1),o=Object(d.a)(c,2),s=o[0],i=o[1],m=function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.email){t.next=2;break}return t.abrupt("return",N.a.error("Email is required"));case 2:return i(!0),t.prev=4,t.next=7,e.subscribeUser(a);case 7:return N.a.success("Thank you for subscribing !.."),t.abrupt("return",i(!1));case 11:return t.prev=11,t.t0=t.catch(4),N.a.error(t.t0.message),t.abrupt("return",i(!1));case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,!e.subscribed&&r.a.createElement("div",{className:"subscribe_newsletter"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6 col-lg-6"},r.a.createElement("div",{className:"newsletter_text"},r.a.createElement("h3",null,"Subscribe Newsletter"))),r.a.createElement("div",{className:"col-xl-5 offset-xl-1 col-lg-6"},r.a.createElement("div",{className:"newsletter_form"},r.a.createElement("h4",null,"Subscribe to get up to date information if new book has been released"),r.a.createElement("form",{onSubmit:l(m),className:"newsletter_form"},r.a.createElement("input",{type:"email",name:"email",ref:a({required:!1}),placeholder:"Enter your mail"}),r.a.createElement("button",{disabled:!!s,type:"submit"}," ",s?"Please wait":"Subscribe","  "))))))))})),R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null))},I=function(e){var t=e.reviews;e.books;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-md-6 mb-2"},r.a.createElement(o.b,{className:"rev-card-link",to:"/book_reviews/".concat(e._id)},r.a.createElement("div",{className:"card p-2"},r.a.createElement("span",{className:"badge badge-dark text-center"},e.category),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.bookTitle),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"}," ","By ",e.bookAuthor),r.a.createElement("p",{className:"card-text"},e.reviewContent.length>60?"".concat(e.reviewContent.slice(1,60),"..."):e.reviewContent),r.a.createElement("span",null,"Rating : ","\u2b50".repeat(e.rating))))))})))),r.a.createElement("div",{className:"more_courses text-center"},r.a.createElement(o.b,{className:"boxed_btn ml-5 mt-4",to:"/book_reviews"}," ","More"," "))))))};function B(){return function(e){return e({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","review/reviews"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if("Fetched all reviews successfully."===t.message)return e({type:"FETCH_REVIEWS_SUCCESS",reviews:t.reviews});throw new Error(t.message)})).catch((function(t){throw e({type:"API_CALL_ERROR"}),new Error(t)}))}}var A=function(e){var t=e.title,a=e.imageUrl,n=e.published,l=e.pages,c=(e.bookIndexRange,e.category,e.id,e.link);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-4 col-6 my-3"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",style:{maxHeight:"300px"},src:a,alt:"cap"}),r.a.createElement("div",{className:"card-body"},r.a.createElement(o.b,{to:c}," ",r.a.createElement("h5",{className:"card-title"}," ",t," ",r.a.createElement("br",null),"  ")),r.a.createElement("p",{className:"card-text"},"This book was published in ",n,", and has about ",l," pages."),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated 3 mins ago"))))))},j=function(e){var t=e.books,a=Object(n.useState)(),l=Object(d.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){o(Math.floor(Math.random()*(null===t||void 0===t?void 0:t.length)))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"section_title text-center mb-100"},r.a.createElement("h2",null," Recomended Books  ")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},null===t||void 0===t?void 0:t.slice(c,c+6).map((function(e){return r.a.createElement(A,{title:e.volumeInfo.title,imageUrl:e.volumeInfo.imageLinks.thumbnail,link:"/books/".concat(t.length,"/recomended/").concat(e.id),published:e.volumeInfo.publishedDate,pages:e.volumeInfo.pageCount,key:e.volumeInfo.title,id:e.id})})))))},L={fetchAllReviews:B},T=Object(p.b)((function(e){return{reviews:e.reviews,books:e.books}}),L)((function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){e.fetchAllReviews(),c(Math.floor(Math.random()*e.reviews.length))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{books:e.books}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"section_title text-center mb-100"},r.a.createElement("h3",null,"Recent Reviews "))))),r.a.createElement(I,{books:e.books.slice(l,l+3),reviews:e.reviews.slice(l,l+3)}))})),P=function(e){var t=e.setSearchText,a=Object(C.a)(),n=a.register,l=a.handleSubmit,c=a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 m-auto"},r.a.createElement("form",{onSubmit:l((function(e){t(e.searchParam)})),className:"m-3"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search Books...","aria-label":"Search",name:"searchParam",ref:n({required:!0})}),c.searchParam&&r.a.createElement("span",{className:" err-msg-dashboard text-left"}," ","A search param is required."))))))},U=function(e){var t=e.data,a=e.loading,n=e.clearResults;return r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{onClick:function(){return n()},className:" btn btn-outline-primary float-right"}," Close Search "),r.a.createElement("h3",{className:"text-center"}," Top Search Results")),r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(A,{title:e.volumeInfo.title,imageUrl:e.volumeInfo.imageLinks.thumbnail,link:"/search/books/".concat(e.id),published:e.volumeInfo.publishedDate,pages:e.volumeInfo.pageCount,key:e.volumeInfo.title,id:e.id})}))))),a&&r.a.createElement(b,null))};function F(e){return function(t){return t({type:"BEGIN_API_CALL"}),t({type:"CLEAR_CURRENT_SEARCH_BOOKS"}),fetch("".concat("http://localhost:3000/api/","googleBooks/").concat(e,"/4"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){if("Fetched books successfully"===a.message)return t({type:"SEARCH_BOOKS_SUCCESS",books:a.data});throw new Error("No results for ".concat(e))})).catch((function(e){return t({type:"API_CALL_ERROR"}),new Error(e)}))}}var q={fetchBooks:F,clearResults:function(){return function(e){e({type:"CLEAR_CURRENT_SEARCH_BOOKS"})}}},D=Object(p.b)((function(e){return{searchResults:e.searchResults,loading:e.apiCallsInProgress>0}}),q)((function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){l&&e.fetchBooks(l)}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{setSearchText:c}),r.a.createElement(U,{clearResults:e.clearResults,loading:e.loading,data:e.searchResults}))})),G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(D,null),r.a.createElement(w,null),r.a.createElement(T,null),r.a.createElement(R,null))};function H(){return function(e){var t=localStorage.getItem("token");return!!t&&e(function(e){return{type:"PERSIST_USER_AUTH",token:e}}(t))}}var K={userLogOut:function(){return function(e){return e({type:"BEGIN_API_CALL"}),localStorage.clear(),e({type:"USER_LOG_OUT_SUCCESS"})}}},M=Object(p.b)((function(e){return{auth:e.auth}}),K)((function(e){var t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},r.a.createElement(o.c,{className:"navbar-brand",to:"/"},"TheBookStore"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(o.c,{exact:!0,className:"nav-link",to:"/"},"HOME")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{exact:!0,className:"nav-link",to:"/book_reviews"},"REVIEWS")),r.a.createElement("li",null,r.a.createElement(o.c,{exact:!0,className:"nav-link",to:"/books"},"BOOKS")),r.a.createElement("li",null,r.a.createElement(o.c,{exact:!0,className:"nav-link",to:"/library"},"LIBRARY")),(null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token)?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.c,{onClick:function(){return e.userLogOut()},to:"/",className:"login popup-with-form nav-link"},r.a.createElement("i",{className:"flaticon-user"}),r.a.createElement("span",null," LOG OUT "))):r.a.createElement(o.c,{to:"/login",className:"login popup-with-form nav-link"},r.a.createElement("i",{className:"flaticon-user"}),r.a.createElement("span",null," SIGN IN "))))))})),V=function(e){var t=e.handleLogin,a=Object(C.a)(),n=a.register,l=a.handleSubmit,c=a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"test-form",className:"white-popup-block mfp-hide mt-3"},r.a.createElement("div",{className:"popup_box "},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h3",null,"Login "),r.a.createElement("form",{onSubmit:l((function(e){t(e)}))},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.email&&r.a.createElement("span",{className:"err-msg text-left"}," ","Email field is required."),r.a.createElement("input",{autoComplete:"false",type:"email",name:"email",ref:n({required:!0}),placeholder:"Email Address"})),r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.password&&r.a.createElement("span",{className:"err-msg text-left"}," ","Password field is required."),r.a.createElement("input",{autoComplete:"false",type:"password",name:"password",ref:n({required:!0}),placeholder:"Password"})),r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("button",{type:"submit",className:"boxed_btn_orange"},"Log in")))),r.a.createElement("p",{className:"doen_have_acc"},"Don\u2019t have an account?"," ",r.a.createElement(o.c,{to:"/signup",className:"dont-hav-acc"},"Sign Up"))))))},J=(a(143),{userLogin:function(e){return function(t){return t({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if("Login Successful"===e.message)return localStorage.setItem("token",e.token),t({type:"USER_LOGIN_SUCCESS",loginDetails:e.token});throw new Error(e.message)})).catch((function(e){throw t({type:"API_CALL_ERROR"}),new Error(e.message)}))}},persistUser:H}),W=Object(p.b)((function(e){return{auth:e.auth,loading:e.apiCallsInProgress>0}}),J)((function(e){Object(n.useEffect)((function(){e.persistUser()}),[e]);var t=function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.userLogin(a);case 3:N.a.success("Login Successful."),e.history.push("/library"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),N.a.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return e.auth.token?r.a.createElement(s.a,{to:"/library"}):r.a.createElement("div",{className:""},e.loading?r.a.createElement(b,null):r.a.createElement(V,{handleLogin:t}))})),z=(a(144),function(e){var t=e.handleSignup,a=Object(C.a)(),n=a.register,l=a.handleSubmit,c=a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"test-form",className:"white-popup-block mfp-hide mt-5"},r.a.createElement("div",{className:"popup_box "},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h3",null,"Sign up"),r.a.createElement("form",{onSubmit:l((function(e){t(e)}))},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.fullName&&r.a.createElement("span",{className:"err-msg text-left"}," ","FullName field is required."),r.a.createElement("input",{type:"text",name:"fullName",ref:n({required:!0}),placeholder:"Enter Full Name",autoComplete:"false"})),r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.email&&r.a.createElement("span",{className:"err-msg text-left"}," ","Email field is required."),r.a.createElement("input",{autoComplete:"false",type:"email",name:"email",ref:n({required:!0}),placeholder:"Email Address"})),r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.password&&r.a.createElement("span",{className:"err-msg text-left"}," ","Password field is required."),r.a.createElement("input",{autoComplete:"false",type:"password",name:"password",ref:n({required:!0}),placeholder:"Password"})),r.a.createElement("div",{className:"col-xl-12 col-md-12"},c.confirmPassword&&r.a.createElement("span",{className:"err-msg text-left"}," ","Confirm Password field is required."),r.a.createElement("input",{autoComplete:"false",type:"password",name:"confirmPassword",ref:n({required:!0}),placeholder:"Confirm Password"})),r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("button",{type:"submit",className:"boxed_btn_orange"},"Sign Up")))),r.a.createElement("p",{className:"doen_have_acc"},"Have an account?"," ",r.a.createElement(o.c,{to:"/login",className:"dont-hav-acc"},"Sign In"))))))}),Y=(a(145),function(e){var t=e.password,a=e.confirmPassword;return t.length<8?{status:!1,message:"Password should contain at least 8 characters"}:t!==a?{status:!1,message:"Passwords do not match"}:{status:!0}}),X={userSignUp:function(e){return function(t){return t({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","users/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if("SignUp successful."===e.message)return t({type:"USER_SIGNUP_SUCCESS",authDetails:e.userData});throw new Error(e.message)})).catch((function(e){throw t({type:"API_CALL_ERROR"}),new Error(e.message)}))}}},$=Object(p.b)((function(e){return{auth:e.auth,loading:e.apiCallsInProgress>0}}),X)((function(e){var t=function(){var t=Object(_.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(a);case 3:if(!0!==(n=t.sent).status){t.next=9;break}return t.next=7,e.userSignUp(a);case 7:N.a.success("Sign Up Successful, Please Login."),e.history.push("/login");case 9:return t.abrupt("return",N.a.error(n.message));case 12:t.prev=12,t.t0=t.catch(0),N.a.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:""},e.loading?r.a.createElement(b,null):r.a.createElement(z,{handleSignup:t}))})),Q=(a(146),function(e){var t=e.bookTitle,a=e.bookAuthor,n=e.rating,l=e.bookId,c=e.reviewContent,s=e.category;return r.a.createElement("div",{className:"col-md-3 rev-card col-sm-6 ml-2  "},r.a.createElement(o.b,{className:"rev-card-link",to:"/book_reviews/".concat(l)},r.a.createElement("div",{className:"card p-2"},r.a.createElement("span",{className:"badge badge-dark text-center"},s),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"}," By ",a),r.a.createElement("p",{className:"card-text"},c.length>60?"".concat(c.slice(1,60),"..."):c),r.a.createElement("span",null,"Rating : ","\u2b50".repeat(n))))))}),Z={fetchAllReviews:B},ee=Object(p.b)((function(e){return{reviews:e.reviews,loading:e.apiCallsInProgress>0}}),Z)((function(e){return Object(n.useEffect)((function(){e.fetchAllReviews()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"section_title text-center mb-100 my-5"},r.a.createElement("h3",null,"Reviewed Books")),r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement(o.b,{className:"boxed_btn mt-4",to:"/library"}," ","Add Reviews"," "))))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},e.loading?r.a.createElement(b,null):r.a.createElement(r.a.Fragment,null,e.reviews.map((function(e){return r.a.createElement(Q,{bookAuthor:e.bookAuthor,bookTitle:e.bookTitle,rating:e.rating,bookId:e._id,reviewContent:e.reviewContent,category:e.category})})),e.reviews&&0===e.reviews.length&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{height:"50vh"},className:"col"},r.a.createElement("h5",{className:"text-center"},"There are no reviews yet.")))))))))})),te=(a(147),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer text-center"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"text-muted small mb-0"},"Copyright \xa9 Your TheBookStore"))))}),ae=(a(148),{fetchBooks:v}),ne=Object(p.b)((function(e){return{books:e.books}}),ae)((function(e){var t=Object(n.useState)("Technology"),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(9),s=Object(d.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(30),E=Object(d.a)(u,2),p=E[0],v=E[1],h=Object(n.useState)(!1),k=Object(d.a)(h,2),w=k[0],S=k[1];return Object(n.useEffect)((function(){try{e.fetchBooks(l,p)}catch(t){N.a.error(t)}m(9)}),[l,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-3"}),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(D,null))),r.a.createElement("div",{className:"popular_courses"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"section_title text-center mb-100"},r.a.createElement("h3",null,"Available Books")))),r.a.createElement(f,{activeCategory:l,setActiveCategory:c})),e.books&&e.books.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{books:e.books,booksToShow:i,booksToFetch:p,setBooksToFetch:v,setBooksToShow:m,loading:w,setLoading:S,category:l,bookIndexRange:p}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j,{books:e.books})):r.a.createElement(b,null)))})),re=a(121),le=a(122),ce=a(126),oe=a(127),se=function(e){Object(oe.a)(a,e);var t=Object(ce.a)(a);function a(){return Object(re.a)(this,a),t.apply(this,arguments)}return Object(le.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(n.Component),ie=Object(s.g)(se),me=a(27),ue={books:[],auth:{},apiCallsInProgress:0,reviews:[],subscribed:!1,savedBooks:[],searchResults:[]};var de=a(51);function Ee(e){return"_SUCCESS"===e.substring(e.length-8)}var fe=a(11);var pe=Object(me.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.books,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOKS_SUCCESS":return t.books;case"CLEAR_CURRENT_BOOKS":return[];default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNUP_SUCCESS":return t.authDetails;case"USER_LOGIN_SUCCESS":return Object(de.a)({},e,{token:t.loginDetails});case"USER_LOG_OUT_SUCCESS":return{};case"PERSIST_USER_AUTH":case"EDIT_PROFILE_SUCCESS":return Object(de.a)({},e,{token:t.token});default:return e}},apiCallsInProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.apiCallsInProgress,t=arguments.length>1?arguments[1]:void 0;return"BEGIN_API_CALL"===t.type?e+1:"API_CALL_ERROR"===t.type||Ee(t.type)?e-1:e},reviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.reviews,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_REVIEW_SUCCESS":return console.log(t),[].concat(Object(fe.a)(e),[t.review]);case"FETCH_REVIEWS_SUCCESS":return t.reviews;default:return e}},subscribed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.subscribed,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBSCRIBE_ISSUCCESS":return!0;default:return e}},savedBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.savedBooks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SAVEDBOOKS_SUCCESS":return t.savedBooks;case"DELETE_BOOK_SUCCESS":return e.filter((function(e){return e._id!==t.bookId}));case"ADD_BOOK_SUCCESS":return[].concat(Object(fe.a)(e),[t.savedBook]);default:return e}},searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.searchResults,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_BOOKS_SUCCESS":return t.books;case"CLEAR_CURRENT_SEARCH_BOOKS":return[];default:return e}}}),ve=a(123),he=a.n(ve),be=a(124);function ge(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d;return Object(me.e)(pe,e,t(Object(me.a)(be.a,he()())))}a(153),a(154),a(155);var Ne=["Technology","Science","Finance","Health","Sports","Romance","Adventure"],ke=function(e){var t=e.handleCreateReview,a=Object(C.a)(),n=a.register,l=a.handleSubmit,c=a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 card p-3"},r.a.createElement("h3",{className:"pt-3 pb-3"}," Create Book Review "),r.a.createElement("form",{onSubmit:l((function(e){t(e)})),className:"p-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Book Title "),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Book Title",ref:n({required:!0}),name:"bookTitle"}),c.bookTitle&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","Title field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Book Author "),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Book Authors",name:"bookAuthor",ref:n({required:!0})}),c.bookAuthor&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","Author field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"rating"}," Category "),r.a.createElement("select",{ref:n({required:!0}),name:"category",className:"form-control"},Ne.map((function(e){return r.a.createElement("option",{key:e,value:e},e," ")})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"rating"}," Rating "),r.a.createElement("select",{ref:n({required:!0}),name:"rating",className:"form-control"},r.a.createElement("option",{value:"1"}," \u2b50 "),r.a.createElement("option",{value:"2"}," \u2b50\u2b50 "),r.a.createElement("option",{value:"3"}," \u2b50\u2b50\u2b50 "),r.a.createElement("option",{value:"4"}," \u2b50\u2b50\u2b50\u2b50 "),r.a.createElement("option",{value:"5"}," \u2b50\u2b50\u2b50\u2b50\u2b50 "))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:""},"Description "),r.a.createElement("textarea",{className:"form-control",placeholder:"Book Review Description",rows:"3",ref:n({required:!0}),name:"reviewContent"}),c.reviewContent&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","Book Review descriptions is required.")),r.a.createElement("button",{type:"submit",className:"boxed_btn"},"Submit"))))))},we=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" col-md-12 card pt-3 pb-5"},r.a.createElement("div",{className:"panel widget"},r.a.createElement("div",{className:"widget-header bg-success"}),r.a.createElement("div",{className:"widget-body text-center"},r.a.createElement("img",{alt:"Profile",className:"widget-img img-circle img-border mb-3",src:"https://cdn2.iconfinder.com/data/icons/circle-icons-1/64/profle-512.png"}),r.a.createElement("h4",{className:"mar-no"}," ",null===t||void 0===t?void 0:t.fullName," "),r.a.createElement("p",{className:"text-muted mar-btm"}," ",null===t||void 0===t?void 0:t.email)))))},Se=function(e){var t=e.handleEditProfile,a=e.user,n=Object(C.a)(),l=n.register,c=n.handleSubmit,o=n.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 card p-3"},r.a.createElement("h3",{className:"pt-3 pb-3"}," Edit Profile "),r.a.createElement("form",{onSubmit:c((function(e){return e.confirmPassword!==e.newPassword?N.a.error("Passwords don't match"):t(e)})),className:"p-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Full Name "),r.a.createElement("input",{type:"text",className:"form-control",ref:l({required:!0}),name:"fullName",defaultValue:a.fullName})," ",o.fulName&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","This field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Email Address "),r.a.createElement("input",{type:"text",className:"form-control",ref:l({required:!0}),name:"email",defaultValue:a.email}),o.email&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","This field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Old Password"),r.a.createElement("input",{type:"password",className:"form-control",ref:l({required:!0}),name:"oldPassword"}),o.oldPassword&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","This field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"New Password"),r.a.createElement("input",{type:"password",className:"form-control",ref:l({required:!0}),name:"newPassword"}),o.newPassword&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","This field is required.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"book title"},"Confirm New Password"),r.a.createElement("input",{type:"password",className:"form-control",ref:l({required:!0}),name:"confirmPassword"}),o.confirmPassword&&r.a.createElement("span",{className:"err-msg-dashboard text-left"}," ","This field is required.")),r.a.createElement("button",{type:"submit",className:"boxed_btn"},"Submit"))))))},ye=a(125),_e=a.n(ye),Ce=(a(256),function(e){var t=e.activeNav,a=e.setActiveNav,n=e.NavLinks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" col-md-12 card pt-3 pb-5 mt-2"},r.a.createElement("div",{className:"panel widget"},r.a.createElement("div",{className:"widget-header bg-success"}),r.a.createElement("div",{className:"widget-body text-center"},n.map((function(e){return r.a.createElement("span",{onClick:function(){a(e)},className:t===e?" dashboard-nav-link active-nav":" dashboard-nav-link"}," ",r.a.createElement("i",{className:"fas fa-facebook"})," ",e," ")}))))))}),Oe=function(e){var t=e.books,a=e.title,n=e.deleteBook,l=function(e,t){var a=[];if(e&&"Read Books"===t)for(var n=0;n<e.length;n++)!0===e[n].read&&a.push(e[n]);else if(e&&"Saved Books"===t)for(var r=0;r<e.length;r++)!1===e[r].read&&a.push(e[r]);return a}(t,a);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 card p-3 pb-5 savee"},r.a.createElement("h3",{className:"pt-3 pb-3"}," ",a," "),l&&r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Link"),r.a.createElement("th",{scope:"col"},"Delete"))),r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null," ",r.a.createElement("a",{href:e.link},r.a.createElement("button",{className:"btn btn-primary"},"View Book"))," "),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return n(e._id)},className:"btn btn-outline-danger"},"Delete Book")))})))),0===l.length&&r.a.createElement("h3",{className:"text-center"},' You do not have any "',a,' " yet. ')))))};function xe(e,t){return function(a){return a({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","books/add"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if("Book Added."===e.message)return a({type:"ADD_BOOK_SUCCESS",savedBook:e.data.savedBook});throw new Error(e.message)})).catch((function(e){throw a({type:"API_CALL_ERROR"}),new Error(e)}))}}var Re=["Write Review","Edit Profile","Read Books","Saved Books"],Ie={persistUser:H,createReview:function(e,t){return function(a){return a({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","review/add_review"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if("Review Added."===e.message)return a({type:"CREATE_REVIEW_SUCCESS",review:e.data.review});throw new Error(e.message)})).catch((function(e){throw a({type:"API_CALL_ERROR"}),new Error(e)}))}},editUserProfile:function(e,t){return function(a){return a({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","users/edit_details"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e.message,a(function(e){return{type:"EDIT_PROFILE_SUCCESS",token:e}}(e.token))})).catch((function(e){throw a({type:"API_CALL_ERROR"}),new Error(e)}))}},fetchAllSavedBooks:function(e){return function(t){return!!e&&(t({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","books/getBooks"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){return e.json()})).then((function(e){if("Fetched All Books"===e.message)return t({type:"FETCH_SAVEDBOOKS_SUCCESS",savedBooks:e.data.books});throw new Error(e.message)})).catch((function(e){throw t({type:"API_CALL_ERROR"}),new Error(e)})))}},deleteBook:function(e,t){return function(a){return!(!e||!t)&&(a({type:"BEGIN_API_CALL"}),fetch("".concat("http://localhost:3000/api/","books/delete"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){if("Book has been deleted"===t.message)return a({type:"DELETE_BOOK_SUCCESS",bookId:e.bookId});throw new Error(t.message)})).catch((function(e){throw a({type:"API_CALL_ERROR"}),new Error(e)})))}}},Be=Object(p.b)((function(e){return{auth:e.auth,loading:e.apiCallsInProgress>0,savedBooks:e.savedBooks}}),Ie)((function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(Re[0]),i=Object(d.a)(o,2),m=i[0],u=i[1],E=Object(n.useState)({}),f=Object(d.a)(E,2),p=f[0],v=f[1],h=function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.createReview(a,e.auth.token);case 3:N.a.success("Created Review"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),N.a.error(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.editUserProfile(a,e.auth.token);case 3:N.a.success("Profile Updated Successfully."),c(!1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),N.a.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(_.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={bookId:a},t.next=4,e.deleteBook(n,e.auth.token);case 4:N.a.success("Book has been deleted"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),N.a.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){v(function(e){if(e){var t=_e.a.verify(e,"BookStoreSecret");return console.log(t),t}return{}}(e.auth.token))}),[e.auth.token]),Object(n.useEffect)((function(){e.fetchAllSavedBooks(e.auth.token)}),[e.auth.token]),e.auth.token?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid p-4 pb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 col-sm-12  p-3 my-5"},r.a.createElement(we,{setShowEditProfileForm:c,showEditProfileForm:l,user:p}),r.a.createElement(Ce,{NavLinks:Re,activeNav:m,setActiveNav:u,token:e.auth.token,fetchAllSavedBooks:e.fetchAllSavedBooks})),e.loading?r.a.createElement("div",{className:"dashboard-loader"},r.a.createElement(b,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-9 col-sm-12 p-3"},m===Re[0]&&r.a.createElement(ke,{handleCreateReview:h}),m===Re[1]&&r.a.createElement(Se,{handleEditProfile:g,user:p}),m===Re[2]&&r.a.createElement(Oe,{deleteBook:k,title:"Read Books",books:e.savedBooks}),m===Re[3]&&r.a.createElement(Oe,{deleteBook:k,title:"Saved Books",books:e.savedBooks}))))))):(e.persistUser(),r.a.createElement(s.a,{to:"/login"}))})),Ae={fetchAllReviews:B},je=Object(p.b)((function(e){return{reviews:e.reviews}}),Ae)((function(e){Object(n.useEffect)((function(){0===e.reviews.length&&e.fetchAllReviews()}));var t,a=(t=e.match.params.bookId,e.reviews.find((function(e){return e._id===t})));return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"container p-3"},r.a.createElement("div",{className:"row mt-5 mb-4"},r.a.createElement("div",{className:"col-md-9 m-auto"},a?r.a.createElement("div",{className:"card my-5"},r.a.createElement("div",{className:"card-header"}," ",a.bookTitle),r.a.createElement("span",{className:"text-right mr-2 mt-1"}," ","Category : ",a.category," "),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},"Author : ",a.bookAuthor),r.a.createElement("p",{className:"card-text"},a.reviewContent),r.a.createElement("span",{className:"btn btn-outline-dark"},r.a.createElement("span",null,"Rating : ","\u2b50".repeat(a.rating))),r.a.createElement("p",{className:"card-text mt-3 text-right mr-2"},"Reviewd By : ",a.reviewAuthor))):r.a.createElement(b,null)))))})),Le=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"jumbotron p-5 m-5"},r.a.createElement("h1",{className:"display-4"},"404"),r.a.createElement("p",{className:"lead"},"The Page you are looking for was not found or does not exist."),r.a.createElement("hr",{className:"my-4"})))},Te=function(e){var t=e.title,a=e.imageUrl,n=e.authors,l=e.description,c=e.published,o=e.pages,s=(e.id,e.previewLink),i=e.saveBook;e.saveBookAsRead;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"container text-center my-auto"},r.a.createElement("img",{style:{height:"300px",width:"100%"},src:a,alt:"Course Img"})),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("p",{className:"card-text"},l),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null," Authors:"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e}," * ",e," ")}))))),r.a.createElement("a",{target:"_blank",href:s,rel:"noopener noreferrer"},r.a.createElement("button",{className:"btn btn-primary"}," Preview Book ")),r.a.createElement("button",{onClick:function(){return i(!0)},className:" ml-3 btn btn-outline-secondary"}," ","Mark as read "," ")," ",r.a.createElement("button",{onClick:function(){return i(!1)},className:" ml-3 btn btn-secondary"}," ","Save Book"," ")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("small",{className:"text-muted "},"Published in (",c,")"),r.a.createElement("span",{className:"active_prise float-right"},o," pgs")))),r.a.createElement("hr",null))},Pe={fetchBooks:v,persistUser:H,createBook:xe},Ue=Object(p.b)((function(e){return{books:e.books,auth:e.auth,loading:e.apiCallsInProgress>0}}),Pe)((function(e){var t,a=e.match.params,l=a.bookId,c=a.category,o=a.index,s=e.books?function(e,t){return e.find((function(e){return e.id===t}))}(e.books,l):{};console.log(e);var i=function(){var t=Object(_.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={title:s.volumeInfo.title,link:s.volumeInfo.previewLink,read:a},e.auth.token){t.next=4;break}return N.a.error("You must be logged in to use this feature"),t.abrupt("return",e.history.push("/login"));case 4:return t.prev=4,t.next=7,e.createBook(n,e.auth.token);case 7:N.a.success(a?"Marked as Read.":"Book added to read list."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),N.a.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){(!e.books||0===e.books.length||e.books.length<o)&&e.fetchBooks(c,o)}),[l,c,o,e]),e.auth.token||e.persistUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"toppad"}),r.a.createElement("div",{className:"full-ground"},s&&!e.loading?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row "},r.a.createElement(Te,{title:s.volumeInfo.title,imageUrl:s.volumeInfo.imageLinks.thumbnail,authors:null===s||void 0===s||null===(t=s.volumeInfo)||void 0===t?void 0:t.authors,link:s.volumeInfo.infoLink,published:s.volumeInfo.publishedDate,pages:s.volumeInfo.pageCount,key:s.volumeInfo.title,description:s.volumeInfo.description,id:s.id,category:c,previewLink:s.volumeInfo.previewLink,saveBook:i}))):r.a.createElement(b,null)))})),Fe=a(128),qe={fetchBooks:F,createBook:xe},De=Object(p.b)((function(e){return{searchResults:e.searchResults,loading:e.apiCallsInProgress>0,auth:e.auth}}),qe)((function(e){var t,a=e.searchResults,n=e.match,l=e.loading,c=e.auth,o=e.history,s=Object(Fe.a)(e,["searchResults","match","loading","auth","history"]),i=function(e,t){return e.find((function(e){return e.id===t}))}(a,n.params.bookId),m=function(){var e=Object(_.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={title:i.volumeInfo.title,link:i.volumeInfo.previewLink,read:t},c.token){e.next=4;break}return N.a.error("You must be logged in to use this feature"),e.abrupt("return",o.push("/login"));case 4:return e.prev=4,e.next=7,s.createBook(a,s.auth.token);case 7:N.a.success(t?"Marked as Read.":"Book added to read list."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),N.a.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"full-ground"},i&&!l?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row "},r.a.createElement(Te,{title:i.volumeInfo.title,imageUrl:i.volumeInfo.imageLinks.thumbnail,authors:null===i||void 0===i||null===(t=i.volumeInfo)||void 0===t?void 0:t.authors,link:i.volumeInfo.infoLink,published:i.volumeInfo.publishedDate,pages:i.volumeInfo.pageCount,key:i.volumeInfo.title,description:i.volumeInfo.description,id:i.id,previewLink:i.volumeInfo.previewLink,saveBook:m}))):r.a.createElement(b,null)))}));N.a.configure({autoClose:2e3,draggable:!0,hideProgressBar:!0});var Ge=function(){return r.a.createElement(p.a,{store:ge()},r.a.createElement(o.a,{basename:"/"},r.a.createElement(ie,null,r.a.createElement(M,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:G}),r.a.createElement(s.b,{path:"/login",exact:!0,component:W}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:$}),r.a.createElement(s.b,{path:"/search/books/:bookId",exact:!0,component:De}),r.a.createElement(s.b,{path:"/books/:index/:category/:bookId",exact:!0,component:Ue}),r.a.createElement(s.b,{path:"/books",exact:!0,component:ne}),r.a.createElement(s.b,{path:"/book_reviews/:bookId",exact:!0,component:je}),r.a.createElement(s.b,{path:"/book_reviews",exact:!0,component:ee}),r.a.createElement(s.b,{path:"/library",exact:!0,component:Be}),r.a.createElement(s.b,{path:"*",exact:!0,component:Le})),r.a.createElement(te,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(257);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);